{% extends "base_results.html" %}

{% block content %}
<div class="results-section">
    <div class="search-summary">
        <div class="summary-line">
            <span class="label">QUERY:</span> 
            <span class="value">{{ search_term }}</span>
        </div>
        <div class="summary-line">
            <span class="label">TYPE:</span> 
            <span class="value">{{ search_type|upper }}</span>
        </div>
        <div class="summary-line">
            <span class="label">RESULTS:</span> 
            <span class="value {% if total_results > 0 %}text-success{% else %}text-error{% endif %}">
                {{ total_results }} MATCH{% if total_results != 1 %}ES{% endif %} FOUND
            </span>
        </div>
        <div class="summary-line">
            <span class="label">SEARCH TIME:</span> 
            <span class="value text-highlight">{{ search_time_ms }}ms</span>
        </div>
    </div>
    
    <div class="terminal-separator">
        ════════════════════════════════════════════════════════════════════════════════
    </div>
    
    {% if total_results > 0 %}
        <div class="results-container">
            {% for user in results %}
            <div class="result-item">
                <div class="result-header">
                    <span class="result-number">[ USER #{{ loop.index }} ]</span>
                </div>
                <div class="result-body">
                    <div class="user-details">
                        <div class="detail-row">
                            <span class="detail-label">NAME:</span>
                            <span class="detail-value">{{ user.name }}</span>
                        </div>
                        
                        <div class="detail-row">
                            <span class="detail-label">EMAIL:</span>
                            <span class="detail-value">{{ user.email }}</span>
                        </div>
                        
                        <div class="detail-row">
                            <span class="detail-label">PHONE:</span>
                            <span class="detail-value">{{ user.phone }}</span>
                        </div>
                        
                        <div class="detail-row">
                            <span class="detail-label">SCHOOL:</span>
                            <span class="detail-value">{{ user.school }}</span>
                        </div>
                        
                        <div class="detail-row">
                            <span class="detail-label">LOCATION:</span>
                            <span class="detail-value">{{ user.location }}</span>
                        </div>
                        
                        <div class="detail-row">
                            <span class="detail-label">GENDER:</span>
                            <span class="detail-value">{{ user.gender }}</span>
                        </div>
                        
                        {% if user.profile_url != 'N/A' %}
                        <div class="detail-row">
                            <span class="detail-label">PROFILE:</span>
                            <span class="detail-value">
                                <a href="{{ user.profile_url }}" target="_blank" class="profile-link">
                                    {{ user.profile_url }}
                                </a>
                            </span>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="no-results">
            <pre class="ascii-sad">
    ╔═══════════════════════════════════════╗
    ║                                       ║
    ║      ╱╲     NO MATCH FOUND     ╱╲    ║
    ║     ╱  ╲                      ╱  ╲   ║
    ║    ╱    ╲    ERROR: 404      ╱    ╲  ║
    ║   ╱  ▓▓  ╲                  ╱  ▓▓  ╲ ║
    ║  ╱   ▓▓   ╲                ╱   ▓▓   ╲║
    ║                                       ║
    ║  Query returned 0 results from DB     ║
    ║                                       ║
    ╚═══════════════════════════════════════╝
            </pre>
            <p class="no-results-text">
                The search term "{{ search_term }}" was not found in any database records.
            </p>
        </div>
    {% endif %}
    
    <div class="terminal-separator">
        ════════════════════════════════════════════════════════════════════════════════
    </div>
    
    <div class="back-link">
        <a href="/" class="btn-back">
            ◄ [ RETURN TO SEARCH ]
        </a>
    </div>
</div>
{% endblock %}
